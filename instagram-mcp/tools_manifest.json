{
  "tools": [
    {
      "id": "CREATE_MEDIA_CONTAINER",
      "target": "tools.publishing:create_media_container",
      "description": "Create Media Container. Create a draft media container for photos/videos/reels before publishing. PARAMETERS: image_url OR video_url (one required) - Public URL of media. caption (optional) - Post caption. media_type (optional) - 'IMAGE' or 'VIDEO'. cover_url (optional) - Cover image for videos. is_carousel_item (optional) - True if part of carousel. RETURNS: 'id' field (creation_id) - USE THIS IN: GET_POST_STATUS (to check processing), CREATE_POST or POST_IG_USER_MEDIA_PUBLISH (to publish). WORKFLOW: 1) Call this -> 2) Get 'id' -> 3) Call GET_POST_STATUS until 'FINISHED' -> 4) Call CREATE_POST with creation_id.",
      "input_schema": {
        "type": "object",
        "properties": {
          "image_url": {"type": "string", "description": "Image URL for photo post (public URL required)"},
          "video_url": {"type": "string", "description": "Video URL for video/reel post (public URL required)"},
          "caption": {"type": "string", "description": "Caption for the media"},
          "media_type": {"type": "string", "description": "Media type (IMAGE or VIDEO only)"},
          "content_type": {"type": "string", "description": "Content type (optional)"},
          "cover_url": {"type": "string", "description": "Cover image URL for video/reel"},
          "is_carousel_item": {"type": "boolean", "description": "Set True if this media is part of a carousel"}
        }
      }
    },
    {
      "id": "POST_IG_USER_MEDIA",
      "target": "tools.publishing:post_ig_user_media",
      "description": "Post IG User Media. Create a media container for Instagram posts (images, videos, Reels, carousels). PARAMETERS: image_url OR video_url (one required). RETURNS: 'id' field (creation_id) - USE THIS IN: GET_POST_STATUS (check processing), CREATE_POST or POST_IG_USER_MEDIA_PUBLISH (publish). Same as CREATE_MEDIA_CONTAINER but with more options.",
      "input_schema": {
        "type": "object",
        "properties": {
          "image_url": {"type": "string", "description": "Image URL for photo post"},
          "video_url": {"type": "string", "description": "Video URL for video/reel post"},
          "caption": {"type": "string", "description": "Caption for the media"},
          "media_type": {"type": "string", "description": "Media type (IMAGE or VIDEO)"},
          "cover_url": {"type": "string", "description": "Cover image URL for video/reel"},
          "is_carousel_item": {"type": "boolean", "description": "Set True if part of carousel"},
          "children": {"type": "array", "items": {"type": "string"}, "description": "List of child media container IDs for carousel - get from CREATE_MEDIA_CONTAINER responses"},
          "location_id": {"type": "string", "description": "Location ID to tag"},
          "user_tags": {"type": "array", "description": "List of user tags (JSON format)"},
          "thumb_offset": {"type": "integer", "description": "Thumbnail offset for video (seconds)"},
          "share_to_feed": {"type": "boolean", "description": "Share to feed (for Reels)"},
          "audio_name": {"type": "string", "description": "Audio name for Reels"},
          "collaborators": {"type": "array", "items": {"type": "string"}, "description": "List of collaborator user IDs"}
        }
      }
    },
    {
      "id": "CREATE_CAROUSEL_CONTAINER",
      "target": "tools.publishing:create_carousel_container",
      "description": "Create Carousel Container. Create a draft carousel post with multiple images/videos. PARAMETERS: children (required) - Array of creation_ids from CREATE_MEDIA_CONTAINER calls (each with is_carousel_item=True). OR use child_image_urls/child_video_urls to auto-create children. caption (optional). RETURNS: 'id' (creation_id) - USE THIS IN: GET_POST_STATUS, CREATE_POST. WORKFLOW: 1) CREATE_MEDIA_CONTAINER x N (with is_carousel_item=True) -> 2) CREATE_CAROUSEL_CONTAINER with children array -> 3) GET_POST_STATUS -> 4) CREATE_POST.",
      "input_schema": {
        "type": "object",
        "properties": {
          "children": {"type": "array", "items": {"type": "string"}, "description": "List of child media container IDs - get from CREATE_MEDIA_CONTAINER responses (each made with is_carousel_item=True)"},
          "child_image_urls": {"type": "array", "items": {"type": "string"}, "description": "List of image URLs to auto-create child containers"},
          "child_video_urls": {"type": "array", "items": {"type": "string"}, "description": "List of video URLs to auto-create child containers"},
          "caption": {"type": "string", "description": "Caption for the carousel post"}
        }
      }
    },
    {
      "id": "GET_POST_STATUS",
      "target": "tools.publishing:get_post_status",
      "description": "Get Post Status. Check the processing status of a draft post container. PARAMETER: creation_id (required) - Get from CREATE_MEDIA_CONTAINER or CREATE_CAROUSEL_CONTAINER response -> 'id' field. RETURNS: 'status_code' with values: 'IN_PROGRESS' (still processing, wait and check again), 'FINISHED' (ready to publish - call CREATE_POST or POST_IG_USER_MEDIA_PUBLISH), 'ERROR' (processing failed, check error_message). WORKFLOW: Call repeatedly until status is 'FINISHED', then publish.",
      "input_schema": {
        "type": "object",
        "properties": {
          "creation_id": {"type": "string", "description": "Creation ID - get from CREATE_MEDIA_CONTAINER or CREATE_CAROUSEL_CONTAINER response 'id' field"}
        },
        "required": ["creation_id"]
      }
    },
    {
      "id": "CREATE_POST",
      "target": "tools.publishing:create_post",
      "description": "Create Post. Publish a draft media container to Instagram (final publishing step). PARAMETER: creation_id (required) - Get from CREATE_MEDIA_CONTAINER or CREATE_CAROUSEL_CONTAINER response -> 'id' field. RETURNS: 'id' (ig_media_id of published post) - USE THIS IN: GET_IG_MEDIA_INSIGHTS (for metrics), GET_IG_MEDIA_COMMENTS (for comments), POST_IG_COMMENT_REPLIES (to reply to comments). Auto-retries up to ~45s if media still processing. WORKFLOW: CREATE_MEDIA_CONTAINER -> GET_POST_STATUS -> CREATE_POST.",
      "input_schema": {
        "type": "object",
        "properties": {
          "creation_id": {"type": "string", "description": "Creation ID - get from CREATE_MEDIA_CONTAINER or CREATE_CAROUSEL_CONTAINER response 'id' field"}
        },
        "required": ["creation_id"]
      }
    },
    {
      "id": "POST_IG_USER_MEDIA_PUBLISH",
      "target": "tools.publishing:post_ig_user_media_publish",
      "description": "Publish IG User Media. Publish a media container to Instagram with automatic polling. PARAMETER: creation_id (required) - Get from CREATE_MEDIA_CONTAINER response -> 'id' field. max_wait_seconds (optional, default 45) - How long to wait for processing. RETURNS: 'id' (ig_media_id of published post) - USE THIS IN: GET_IG_MEDIA_INSIGHTS, GET_IG_MEDIA_COMMENTS, POST_IG_COMMENT_REPLIES. Auto-polls status until FINISHED, then publishes. Rate limit: 25 posts per 24 hours.",
      "input_schema": {
        "type": "object",
        "properties": {
          "creation_id": {"type": "string", "description": "Creation ID - get from CREATE_MEDIA_CONTAINER response 'id' field"},
          "max_wait_seconds": {"type": "integer", "description": "Maximum time to wait for processing (seconds)", "default": 45},
          "poll_interval_seconds": {"type": "integer", "description": "Interval between status checks (seconds)", "default": 3}
        },
        "required": ["creation_id"]
      }
    },
    {
      "id": "GET_USER_INFO",
      "target": "tools.user:get_user_info",
      "description": "Get User Info. Get Instagram user info including profile details and statistics. RETURNS: User profile with 'id' (instagram_user_id), username, biography, profile_picture_url, followers_count, follows_count, media_count. All parameters are auto-detected.",
      "input_schema": {
        "type": "object",
        "properties": {}
      }
    },
    {
      "id": "GET_USER_INSIGHTS",
      "target": "tools.insights:get_user_insights",
      "description": "Get User Insights. Get Instagram account-level insights and analytics. PARAMETERS: metric (required) - Array like ['reach', 'follower_count', 'profile_views']. period (optional) - 'day', 'week', 'month'. Valid metrics: reach, follower_count, website_clicks, profile_views, online_followers, accounts_engaged, total_interactions, views. RETURNS: Array of metric values with timestamps. Note: Some metrics require 100+ followers.",
      "input_schema": {
        "type": "object",
        "properties": {
          "metric": {"type": "array", "items": {"type": "string"}, "description": "Metrics to retrieve: reach, follower_count, website_clicks, profile_views, etc."},
          "period": {"type": "string", "description": "Aggregation period: day, week, month", "default": "day"},
          "metric_type": {"type": "string", "description": "Metric type: time_series or total_value"},
          "breakdown": {"type": "string", "description": "Breakdown (only for metric_type=total_value)"},
          "since": {"type": "string", "description": "Start date (ISO 8601 format)"},
          "until": {"type": "string", "description": "End date (ISO 8601 format)"},
          "timeframe": {"type": "string", "description": "Timeframe (for demographics metrics)"}
        },
        "required": ["metric"]
      }
    },
    {
      "id": "GET_USER_MEDIA",
      "target": "tools.user:get_user_media",
      "description": "Get User Media. Get Instagram user's media (posts, photos, videos). RETURNS: Array of media objects, each containing 'id' (ig_media_id) that you can use in: GET_IG_MEDIA_INSIGHTS (for metrics), GET_IG_MEDIA_COMMENTS/GET_POST_COMMENTS (to get comments), POST_IG_COMMENT_REPLIES/REPLY_TO_COMMENT (to reply), DELETE_COMMENT (to delete). Also returns media_type, caption, timestamp, permalink. PAGINATION: Use 'after' cursor from response for next page.",
      "input_schema": {
        "type": "object",
        "properties": {
          "limit": {"type": "integer", "description": "Number of media items to retrieve", "default": 25},
          "after": {"type": "string", "description": "Paging cursor: after - get from previous response's paging.cursors.after"}
        }
      }
    },
    {
      "id": "GET_IG_USER_MEDIA",
      "target": "tools.user:get_ig_user_media",
      "description": "Get IG User Media. Get Instagram user's media collection with more options than GET_USER_MEDIA. RETURNS: Array of media objects with 'id' (ig_media_id) - USE THIS IN: GET_IG_MEDIA_INSIGHTS, GET_IG_MEDIA_COMMENTS, POST_IG_COMMENT_REPLIES, DELETE_COMMENT. Also returns caption, media_type, media_url, permalink, timestamp. PAGINATION: Use 'after' cursor for more results. TIME FILTER: Use 'since'/'until' for date ranges.",
      "input_schema": {
        "type": "object",
        "properties": {
          "fields": {"type": "string", "description": "Fields to return", "default": "id,caption,media_type,media_url,permalink,thumbnail_url,timestamp,username"},
          "limit": {"type": "integer", "description": "Number of media items to retrieve", "default": 25},
          "after": {"type": "string", "description": "Paging cursor: after"},
          "before": {"type": "string", "description": "Paging cursor: before"},
          "since": {"type": "string", "description": "Filter media created after this timestamp (ISO 8601)"},
          "until": {"type": "string", "description": "Filter media created before this timestamp (ISO 8601)"}
        }
      }
    },
    {
      "id": "GET_IG_USER_STORIES",
      "target": "tools.user:get_ig_user_stories",
      "description": "Get IG User Stories. Get active story media objects (within 24-hour window). RETURNS: Array of story objects with 'id' (ig_media_id) - can use in GET_IG_MEDIA_INSIGHTS for story metrics. Also returns media_type, media_url, permalink, timestamp. Note: Only returns stories still visible (not expired).",
      "input_schema": {
        "type": "object",
        "properties": {
          "fields": {"type": "string", "description": "Fields to return", "default": "id,media_type,media_url,permalink,timestamp"},
          "limit": {"type": "integer", "description": "Number of stories to retrieve"},
          "after": {"type": "string", "description": "Paging cursor: after"},
          "before": {"type": "string", "description": "Paging cursor: before"}
        }
      }
    },
    {
      "id": "GET_IG_USER_TAGS",
      "target": "tools.user:get_ig_user_tags",
      "description": "Get IG User Tags. Get Instagram media where you have been tagged by other users. RETURNS: Array of media objects with 'id' (ig_media_id), caption, media_type, media_url, permalink, timestamp, username (of poster). Note: Only returns media where tagging is allowed and your account is tagged.",
      "input_schema": {
        "type": "object",
        "properties": {
          "fields": {"type": "string", "description": "Fields to return", "default": "id,caption,media_type,media_url,permalink,timestamp,username"},
          "limit": {"type": "integer", "description": "Number of tagged media items", "default": 25},
          "after": {"type": "string", "description": "Paging cursor: after"},
          "before": {"type": "string", "description": "Paging cursor: before"}
        }
      }
    },
    {
      "id": "GET_IG_USER_CONTENT_PUBLISHING_LIMIT",
      "target": "tools.user:get_ig_user_content_publishing_limit",
      "description": "Get IG User Content Publishing Limit. Check your current content publishing quota usage. RETURNS: quota_usage (posts made in 24h window), config (max allowed). Rate limit is 25 API-published posts per 24-hour rolling window. Use this before publishing to avoid rate limit errors.",
      "input_schema": {
        "type": "object",
        "properties": {
          "fields": {"type": "string", "description": "Fields to return", "default": "quota_usage,config"}
        }
      }
    },
    {
      "id": "GET_IG_USER_LIVE_MEDIA",
      "target": "tools.user:get_ig_user_live_media",
      "description": "Get IG User Live Media. Get live media objects during an active Instagram broadcast. RETURNS: Live media objects with 'id', media_type, media_url, timestamp, permalink. Note: Only returns data while you have an active live broadcast.",
      "input_schema": {
        "type": "object",
        "properties": {
          "fields": {"type": "string", "description": "Fields to return", "default": "id,media_type,media_url,timestamp,permalink"}
        }
      }
    },
    {
      "id": "GET_USER_BY_USERNAME",
      "target": "tools.user:get_user_by_username",
      "description": "Get User by Username. Find an Instagram user's ID by their username using Business Discovery API. PARAMETER: username (required) - Just the username without @ symbol. RETURNS: 'instagram_user_id' field - USE THIS AS: recipient_id in SEND_TEXT_MESSAGE, SEND_IMAGE, MARK_SEEN. Also returns username, name, profile_picture_url, followers_count, media_count. NOTE: Only works for public Business/Creator accounts.",
      "input_schema": {
        "type": "object",
        "properties": {
          "username": {"type": "string", "description": "Instagram username (without @ symbol)"}
        },
        "required": ["username"]
      }
    },
    {
      "id": "GET_IG_MEDIA",
      "target": "tools.media:get_ig_media",
      "description": "Get Instagram Media. Get details of a specific published Instagram media object. PARAMETER: ig_media_id (required) - Get from GET_USER_MEDIA response -> 'id' field, OR from CREATE_POST/POST_IG_USER_MEDIA_PUBLISH response -> 'id' field. RETURNS: Media details including id, caption, media_type, media_url, permalink, timestamp, like_count, comments_count. NOTE: This is for published media only, not containers.",
      "input_schema": {
        "type": "object",
        "properties": {
          "ig_media_id": {"type": "string", "description": "Instagram media ID - get from GET_USER_MEDIA or CREATE_POST response 'id' field"},
          "fields": {"type": "string", "description": "Fields to return"}
        },
        "required": ["ig_media_id"]
      }
    },
    {
      "id": "GET_IG_MEDIA_CHILDREN",
      "target": "tools.media:get_ig_media_children",
      "description": "Get IG Media Children. Get child media objects from an Instagram carousel/album post. PARAMETER: ig_media_id (required) - Get from GET_USER_MEDIA response -> 'id' field (must be a carousel post). RETURNS: Array of child media objects with 'id', media_type, media_url for each image/video in the carousel.",
      "input_schema": {
        "type": "object",
        "properties": {
          "ig_media_id": {"type": "string", "description": "Instagram carousel media ID - get from GET_USER_MEDIA response 'id' field"},
          "fields": {"type": "string", "description": "Fields to return"}
        },
        "required": ["ig_media_id"]
      }
    },
    {
      "id": "GET_IG_MEDIA_COMMENTS",
      "target": "tools.media:get_ig_media_comments",
      "description": "Get IG Media Comments. Retrieve comments on an Instagram media object. PARAMETER: ig_media_id (required) - Get from: 1) GET_USER_MEDIA response -> 'id' field, OR 2) CREATE_POST/POST_IG_USER_MEDIA_PUBLISH response -> 'id' field. RETURNS: Array of comment objects containing: 'id' (comment_id) - use in POST_IG_COMMENT_REPLIES, REPLY_TO_COMMENT, DELETE_COMMENT, GET_IG_COMMENT_REPLIES; 'text' - comment content; 'username' - commenter; 'timestamp'. PAGINATION: Use 'after' cursor for more.",
      "input_schema": {
        "type": "object",
        "properties": {
          "ig_media_id": {"type": "string", "description": "Instagram media ID - get from GET_USER_MEDIA or CREATE_POST response 'id' field"},
          "fields": {"type": "string", "description": "Fields to return"},
          "limit": {"type": "integer", "description": "Max comments to return", "default": 25},
          "after": {"type": "string", "description": "Paging cursor: after"},
          "before": {"type": "string", "description": "Paging cursor: before"}
        },
        "required": ["ig_media_id"]
      }
    },
    {
      "id": "GET_POST_COMMENTS",
      "target": "tools.comments:get_post_comments",
      "description": "Get Post Comments. Get comments on an Instagram post (alias for GET_IG_MEDIA_COMMENTS). PARAMETER: ig_post_id (required) - Get from: 1) GET_USER_MEDIA response -> 'id' field, OR 2) CREATE_POST/POST_IG_USER_MEDIA_PUBLISH response -> 'id' field. RETURNS: Array of comment objects with 'id' (comment_id) - use in POST_IG_COMMENT_REPLIES, REPLY_TO_COMMENT, DELETE_COMMENT; 'text'; 'username'; 'timestamp'.",
      "input_schema": {
        "type": "object",
        "properties": {
          "ig_post_id": {"type": "string", "description": "Instagram post ID - get from GET_USER_MEDIA or CREATE_POST response 'id' field"},
          "limit": {"type": "integer", "description": "Number of comments to retrieve", "default": 25},
          "after": {"type": "string", "description": "Paging cursor: after"}
        },
        "required": ["ig_post_id"]
      }
    },
    {
      "id": "GET_POST_INSIGHTS",
      "target": "tools.insights:get_post_insights",
      "description": "Get Post Insights. Get Instagram post insights/analytics. PARAMETER: ig_post_id (required) - Get from: 1) GET_USER_MEDIA response -> 'id' field, OR 2) CREATE_POST/POST_IG_USER_MEDIA_PUBLISH response -> 'id' field (MUST be published post, NOT container). metric_preset (optional) - 'auto_safe' (default), or specific metrics. RETURNS: reach, likes, comments, shares, saved, etc. depending on media type.",
      "input_schema": {
        "type": "object",
        "properties": {
          "ig_post_id": {"type": "string", "description": "Instagram post ID - get from GET_USER_MEDIA or CREATE_POST response 'id' field (must be published, not container)"},
          "metric_preset": {"type": "string", "description": "Metric preset: auto_safe (default), or specific metrics", "default": "auto_safe"},
          "metric": {"type": "array", "items": {"type": "string"}, "description": "Specific metrics (overrides preset): reach, likes, comments, shares, saved"}
        },
        "required": ["ig_post_id"]
      }
    },
    {
      "id": "POST_IG_MEDIA_COMMENTS",
      "target": "tools.comments:post_ig_media_comments",
      "description": "Post IG Media Comments. Create a new comment on an Instagram media object. PARAMETERS: ig_media_id (required) - Get from GET_USER_MEDIA or CREATE_POST response -> 'id' field. message (required) - Your comment text. CONSTRAINTS: Max 300 chars, max 4 hashtags, max 1 URL, cannot be all caps. RETURNS: 'id' of the new comment.",
      "input_schema": {
        "type": "object",
        "properties": {
          "ig_media_id": {"type": "string", "description": "Instagram media ID - get from GET_USER_MEDIA or CREATE_POST response 'id' field"},
          "message": {"type": "string", "description": "Comment message (max 300 chars, max 4 hashtags, max 1 URL)"}
        },
        "required": ["ig_media_id", "message"]
      }
    },
    {
      "id": "POST_IG_COMMENT_REPLIES",
      "target": "tools.comments:post_ig_comment_replies",
      "description": "Post IG Comment Replies. Reply to an Instagram comment. PARAMETERS: ig_comment_id (required) - Get from GET_IG_MEDIA_COMMENTS or GET_POST_COMMENTS response -> 'id' field of the comment to reply to. message (required) - Your reply text. CONSTRAINTS: Max 300 chars, max 4 hashtags, max 1 URL, cannot be all caps. RETURNS: 'id' of the new reply. WORKFLOW: GET_USER_MEDIA -> GET_IG_MEDIA_COMMENTS -> POST_IG_COMMENT_REPLIES with comment's 'id'.",
      "input_schema": {
        "type": "object",
        "properties": {
          "ig_comment_id": {"type": "string", "description": "Instagram comment ID to reply to - get from GET_IG_MEDIA_COMMENTS or GET_POST_COMMENTS response 'id' field"},
          "message": {"type": "string", "description": "Reply message (max 300 chars, max 4 hashtags, max 1 URL)"}
        },
        "required": ["ig_comment_id", "message"]
      }
    },
    {
      "id": "POST_IG_USER_MENTIONS",
      "target": "tools.comments:post_ig_user_mentions",
      "description": "Reply to IG User Mentions. Reply to a mention of your Instagram account. PARAMETERS: media_id (required) - ID of the media where you were mentioned. message (required) - Your reply. comment_id (optional) - If replying to a comment mention specifically. Use this when someone @mentions you in a post or comment.",
      "input_schema": {
        "type": "object",
        "properties": {
          "media_id": {"type": "string", "description": "Media ID where the mention is located"},
          "message": {"type": "string", "description": "Reply message (max 300 chars)"},
          "comment_id": {"type": "string", "description": "Comment ID if replying to a comment mention - get from GET_IG_MEDIA_COMMENTS response 'id' field"}
        },
        "required": ["media_id", "message"]
      }
    },
    {
      "id": "REPLY_TO_COMMENT",
      "target": "tools.comments:reply_to_comment",
      "description": "Reply To Comment. Reply to a comment on Instagram media (alias for POST_IG_COMMENT_REPLIES). PARAMETERS: ig_comment_id (required) - Get from GET_IG_MEDIA_COMMENTS or GET_POST_COMMENTS response -> 'id' field. message (required) - Your reply. RETURNS: 'id' of the new reply. WORKFLOW: GET_USER_MEDIA -> GET_IG_MEDIA_COMMENTS -> REPLY_TO_COMMENT with comment's 'id'.",
      "input_schema": {
        "type": "object",
        "properties": {
          "ig_comment_id": {"type": "string", "description": "Instagram comment ID to reply to - get from GET_IG_MEDIA_COMMENTS or GET_POST_COMMENTS response 'id' field"},
          "message": {"type": "string", "description": "Reply message"}
        },
        "required": ["ig_comment_id", "message"]
      }
    },
    {
      "id": "GET_IG_COMMENT_REPLIES",
      "target": "tools.comments:get_ig_comment_replies",
      "description": "Get IG Comment Replies. Get replies to a specific Instagram comment. PARAMETER: ig_comment_id (required) - Get from GET_IG_MEDIA_COMMENTS or GET_POST_COMMENTS response -> 'id' field. RETURNS: Array of reply objects with 'id', 'text', 'username', 'timestamp'. PAGINATION: Use 'after' cursor for more replies.",
      "input_schema": {
        "type": "object",
        "properties": {
          "ig_comment_id": {"type": "string", "description": "Instagram comment ID - get from GET_IG_MEDIA_COMMENTS or GET_POST_COMMENTS response 'id' field"},
          "fields": {"type": "string", "description": "Fields to return"},
          "limit": {"type": "integer", "description": "Max replies to return", "default": 25},
          "after": {"type": "string", "description": "Paging cursor: after"},
          "before": {"type": "string", "description": "Paging cursor: before"}
        },
        "required": ["ig_comment_id"]
      }
    },
    {
      "id": "DELETE_COMMENT",
      "target": "tools.comments:delete_comment",
      "description": "Delete Comment. Delete a comment on Instagram media. PARAMETER: ig_comment_id (required) - Get from GET_IG_MEDIA_COMMENTS or GET_POST_COMMENTS response -> 'id' field of the comment to delete. RETURNS: Success boolean. PERMISSIONS: Can delete your own comments anywhere, or any comment on your own posts. Cannot delete other users' comments on others' posts. WORKFLOW: GET_USER_MEDIA -> GET_IG_MEDIA_COMMENTS -> DELETE_COMMENT with comment's 'id'.",
      "input_schema": {
        "type": "object",
        "properties": {
          "ig_comment_id": {"type": "string", "description": "Instagram comment ID to delete - get from GET_IG_MEDIA_COMMENTS or GET_POST_COMMENTS response 'id' field"}
        },
        "required": ["ig_comment_id"]
      }
    },
    {
      "id": "GET_IG_MEDIA_INSIGHTS",
      "target": "tools.insights:get_ig_media_insights",
      "description": "Get IG Media Insights. Get metrics for Instagram media. PARAMETERS: ig_media_id (required) - Get from: 1) GET_USER_MEDIA response -> 'id' field, OR 2) CREATE_POST/POST_IG_USER_MEDIA_PUBLISH response -> 'id' field (MUST be published media, NOT container ID). metric (required) - Array like ['reach', 'likes', 'comments', 'shares', 'saved']. IMPORTANT: Only works on PUBLISHED posts, not container IDs. API v22.0+: 'impressions' not supported, use 'reach'. Requirements: Media <2 years old.",
      "input_schema": {
        "type": "object",
        "properties": {
          "ig_media_id": {"type": "string", "description": "Instagram media ID - get from GET_USER_MEDIA or CREATE_POST response 'id' field (MUST be published post, NOT container)"},
          "metric": {"type": "array", "items": {"type": "string"}, "description": "Metrics to retrieve: reach, likes, comments, shares, saved, video_views, plays. Note: 'impressions' NOT supported in v22.0+"},
          "period": {"type": "string", "description": "Aggregation period", "default": "lifetime"}
        },
        "required": ["ig_media_id", "metric"]
      }
    },
    {
      "id": "GET_CONVERSATION",
      "target": "tools.messaging:get_conversation",
      "description": "Get Conversation. Get details about a specific Instagram DM conversation. PARAMETER: conversation_id (required) - Get from LIST_ALL_CONVERSATIONS response -> 'id' field. RETURNS: Conversation details including 'id', 'participants' array (each with 'id' you can use as recipient_id in SEND_TEXT_MESSAGE, SEND_IMAGE), 'updated_time'.",
      "input_schema": {
        "type": "object",
        "properties": {
          "conversation_id": {"type": "string", "description": "Conversation ID - get from LIST_ALL_CONVERSATIONS response 'id' field"}
        },
        "required": ["conversation_id"]
      }
    },
    {
      "id": "GET_CONVERSATIONS",
      "target": "tools.messaging:get_conversations",
      "description": "Get Conversations. List Instagram DM conversations (same as LIST_ALL_CONVERSATIONS but with page_id option). RETURNS: Array of conversation objects with 'id' (conversation_id) - use in GET_CONVERSATION, LIST_ALL_MESSAGES; 'participants' array with 'id' (recipient_id) - use in SEND_TEXT_MESSAGE, SEND_IMAGE, MARK_SEEN.",
      "input_schema": {
        "type": "object",
        "properties": {
          "page_id": {"type": "string", "description": "Facebook Page ID (auto-detected from stored tokens)"},
          "limit": {"type": "integer", "description": "Number of conversations to retrieve"}
        }
      }
    },
    {
      "id": "LIST_ALL_CONVERSATIONS",
      "target": "tools.messaging:list_all_conversations",
      "description": "List All Conversations. List all Instagram DM conversations for the authenticated user. NO REQUIRED PARAMETERS - everything is auto-detected. RETURNS: Array of conversation objects containing: 'id' (conversation_id) - use in GET_CONVERSATION, LIST_ALL_MESSAGES; 'participants' array with user objects containing 'id' (recipient_id) - use in SEND_TEXT_MESSAGE, SEND_IMAGE, MARK_SEEN; 'updated_time' - last activity. PAGINATION: Use 'after' cursor for more conversations.",
      "input_schema": {
        "type": "object",
        "properties": {
          "limit": {"type": "integer", "description": "Number of conversations to retrieve", "default": 25},
          "after": {"type": "string", "description": "Paging cursor: after - get from previous response's paging.cursors.after"}
        }
      }
    },
    {
      "id": "LIST_ALL_MESSAGES",
      "target": "tools.messaging:list_all_messages",
      "description": "List All Messages. List all messages from a specific Instagram DM conversation. PARAMETER: conversation_id (required) - Get from LIST_ALL_CONVERSATIONS response -> 'id' field. RETURNS: Array of message objects containing: 'id' (message_id) - use as reply_to_message_id in SEND_TEXT_MESSAGE or SEND_IMAGE to reply; 'message' - text content; 'from' - sender info with 'id' and 'username'; 'created_time' - timestamp; 'attachments' - any media. PAGINATION: Use 'after' cursor for more messages.",
      "input_schema": {
        "type": "object",
        "properties": {
          "conversation_id": {"type": "string", "description": "Conversation ID - get from LIST_ALL_CONVERSATIONS response 'id' field"},
          "limit": {"type": "integer", "description": "Number of messages to retrieve", "default": 25},
          "after": {"type": "string", "description": "Paging cursor: after"}
        },
        "required": ["conversation_id"]
      }
    },
    {
      "id": "SEND_TEXT_MESSAGE",
      "target": "tools.messaging:send_text_message",
      "description": "Send Text Message. Send a text message to an Instagram user via DM. PARAMETERS: recipient_id (required) - Get from: 1) LIST_ALL_CONVERSATIONS response -> 'participants' array -> 'id' field, OR 2) GET_USER_BY_USERNAME response -> 'instagram_user_id' field. text (required) - Message content. reply_to_message_id (optional) - Get from LIST_ALL_MESSAGES response -> 'id' field to reply to specific message. RETURNS: Message 'id' and 'created_time'. NOTE: Recipient must have an open 24-hour messaging window (they messaged you first).",
      "input_schema": {
        "type": "object",
        "properties": {
          "recipient_id": {"type": "string", "description": "Recipient Instagram user ID - get from LIST_ALL_CONVERSATIONS->participants->'id' OR GET_USER_BY_USERNAME->'instagram_user_id'"},
          "text": {"type": "string", "description": "Text message to send"},
          "reply_to_message_id": {"type": "string", "description": "Message ID to reply to - get from LIST_ALL_MESSAGES response 'id' field"}
        },
        "required": ["recipient_id", "text"]
      }
    },
    {
      "id": "SEND_IMAGE",
      "target": "tools.messaging:send_image",
      "description": "Send Image. Send an image via Instagram DM to a specific user. PARAMETERS: recipient_id (required) - Get from: 1) LIST_ALL_CONVERSATIONS response -> 'participants' array -> 'id' field, OR 2) GET_USER_BY_USERNAME response -> 'instagram_user_id' field. image_url (required) - Public URL of the image to send. RETURNS: Message 'id' and 'created_time'. NOTE: Image URL must be publicly accessible. Recipient must have an open 24-hour messaging window.",
      "input_schema": {
        "type": "object",
        "properties": {
          "recipient_id": {"type": "string", "description": "Recipient Instagram user ID - get from LIST_ALL_CONVERSATIONS->participants->'id' OR GET_USER_BY_USERNAME->'instagram_user_id'"},
          "image_url": {"type": "string", "description": "Public image URL to send"}
        },
        "required": ["recipient_id", "image_url"]
      }
    },
    {
      "id": "MARK_SEEN",
      "target": "tools.messaging:mark_seen",
      "description": "Mark Seen. Mark Instagram DM messages as read/seen for a specific user. PARAMETER: recipient_id (required) - Get from: 1) LIST_ALL_CONVERSATIONS response -> 'participants' array -> 'id' field, OR 2) GET_USER_BY_USERNAME response -> 'instagram_user_id' field. LIMITATIONS: sender_action API may have limited support; recipient must have active 24-hour messaging window; requires instagram_manage_messages permission.",
      "input_schema": {
        "type": "object",
        "properties": {
          "recipient_id": {"type": "string", "description": "Recipient Instagram user ID - get from LIST_ALL_CONVERSATIONS->participants->'id' OR GET_USER_BY_USERNAME->'instagram_user_id'"}
        },
        "required": ["recipient_id"]
      }
    }
  ]
}
